"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getEntityName;

function getEntityName(entity) {
  var _entity$fields, _entity$fields2, _entity$sys;

  const name = entity === null || entity === void 0 ? void 0 : entity.name;

  if (name) {
    return attachId(name, entity);
  }

  const titleField = entity === null || entity === void 0 ? void 0 : (_entity$fields = entity.fields) === null || _entity$fields === void 0 ? void 0 : _entity$fields.title;

  if (titleField) {
    const locales = Object.keys(titleField);
    return attachId(titleField[locales[0]], entity);
  }

  const nameField = entity === null || entity === void 0 ? void 0 : (_entity$fields2 = entity.fields) === null || _entity$fields2 === void 0 ? void 0 : _entity$fields2.name;

  if (nameField) {
    const locales = Object.keys(nameField);
    return attachId(nameField[locales[0]], entity);
  }

  const id = entity === null || entity === void 0 ? void 0 : (_entity$sys = entity.sys) === null || _entity$sys === void 0 ? void 0 : _entity$sys.id;

  if (id) {
    return id;
  }

  return 'unknown';
}

function attachId(val, entity) {
  var _entity$sys2;

  const id = entity === null || entity === void 0 ? void 0 : (_entity$sys2 = entity.sys) === null || _entity$sys2 === void 0 ? void 0 : _entity$sys2.id;

  if (id) {
    return `${val} (${id})`;
  }

  return val;
}

module.exports = exports.default;